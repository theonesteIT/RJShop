<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - ShopHub</title>
    <link rel="stylesheet" href="checkout.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Quick Header -->
    <div class="quick-header">
        <div class="container">
            <div class="quick-header-content">
                <a href="index.html" class="back-to-shop">
                    <i class="fas fa-arrow-left"></i> Back to Shop
                </a>
                <div class="logo">
                    <i class="fas fa-shopping-bag"></i>
                    <span>ShopHub</span>
                </div>
                <div class="secure-checkout">
                    <i class="fas fa-lock"></i> Secure Checkout
                </div>
            </div>
        </div>
    </div>

    <!-- Progress Bar -->
    <div class="progress-container">
        <div class="container">
            <div class="progress-steps">
                <div class="step active" data-step="1">
                    <div class="step-icon"><i class="fas fa-shopping-cart"></i></div>
                    <div class="step-label">Cart</div>
                </div>
                <div class="step" data-step="2">
                    <div class="step-icon"><i class="fas fa-map-marker-alt"></i></div>
                    <div class="step-label">Address</div>
                </div>
                <div class="step" data-step="3">
                    <div class="step-icon"><i class="fas fa-truck"></i></div>
                    <div class="step-label">Delivery</div>
                </div>
                <div class="step" data-step="4">
                    <div class="step-icon"><i class="fas fa-credit-card"></i></div>
                    <div class="step-label">Payment</div>
                </div>
                <div class="step" data-step="5">
                    <div class="step-icon"><i class="fas fa-check-circle"></i></div>
                    <div class="step-label">Review</div>
                </div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container main-content">
        <div class="checkout-grid">
            <!-- Left Column - Forms -->
            <div class="checkout-form">
                
                <!-- Step 1: Customer Information -->
                <div class="form-section active" id="step1">
                    <div class="section-header">
                        <h2><i class="fas fa-user"></i> Customer Information</h2>
                        <p>Already have an account? <a href="#" class="link">Sign in</a></p>
                    </div>
                    <div class="form-group">
                        <label for="fullName">Full Name *</label>
                        <input type="text" id="fullName" class="form-control" placeholder="John Doe" required>
                        <span class="error-message"></span>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="email">Email Address *</label>
                            <input type="email" id="email" class="form-control" placeholder="john@example.com" required>
                            <span class="error-message"></span>
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone Number *</label>
                            <input type="tel" id="phone" class="form-control" placeholder="+250 7XX XXX XXX" required>
                            <span class="error-message"></span>
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="nextStep()">Continue to Address <i class="fas fa-arrow-right"></i></button>
                </div>

                <!-- Step 2: Shipping Address -->
                <div class="form-section" id="step2">
                    <div class="section-header">
                        <h2><i class="fas fa-map-marker-alt"></i> Shipping Address</h2>
                        <button class="btn-text" onclick="detectLocation()"><i class="fas fa-location-arrow"></i> Detect my location</button>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="country">Country *</label>
                            <select id="country" class="form-control">
                                <option value="Rwanda">Rwanda</option>
                                <option value="Kenya">Kenya</option>
                                <option value="Uganda">Uganda</option>
                                <option value="Tanzania">Tanzania</option>
                                <option value="United States">United States</option>
                                <option value="Canada">Canada</option>
                                <option value="United Kingdom">United Kingdom</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="city">City *</label>
                            <input type="text" id="city" class="form-control" placeholder="Kigali">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="district">District / State / Province *</label>
                        <input type="text" id="district" class="form-control" placeholder="Gasabo">
                    </div>
                    <div class="form-group">
                        <label for="street">Street Address *</label>
                        <input type="text" id="street" class="form-control" placeholder="KG 123 St">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="apartment">Apartment / House Number</label>
                            <input type="text" id="apartment" class="form-control" placeholder="Apt 4B">
                        </div>
                        <div class="form-group">
                            <label for="postalCode">Postal Code</label>
                            <input type="text" id="postalCode" class="form-control" placeholder="Optional">
                        </div>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="saveAddress">
                        <label for="saveAddress">Save this address to my address book</label>
                    </div>
                    <div class="button-group">
                        <button class="btn btn-secondary" onclick="prevStep()"><i class="fas fa-arrow-left"></i> Back</button>
                        <button class="btn btn-primary" onclick="nextStep()">Continue to Delivery <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>

                <!-- Step 3: Delivery Method -->
                <div class="form-section" id="step3">
                    <div class="section-header">
                        <h2><i class="fas fa-truck"></i> Delivery Method</h2>
                    </div>
                    <div class="delivery-options">
                        <div class="delivery-option" data-method="standard">
                            <input type="radio" name="delivery" id="standard" value="standard" checked>
                            <label for="standard">
                                <div class="delivery-header">
                                    <div class="delivery-icon"><i class="fas fa-truck"></i></div>
                                    <div class="delivery-info">
                                        <h3>Standard Delivery</h3>
                                        <p>Delivery in 5-7 business days</p>
                                    </div>
                                    <div class="delivery-price">$5.00</div>
                                </div>
                            </label>
                        </div>
                        <div class="delivery-option" data-method="express">
                            <input type="radio" name="delivery" id="express" value="express">
                            <label for="express">
                                <div class="delivery-header">
                                    <div class="delivery-icon"><i class="fas fa-shipping-fast"></i></div>
                                    <div class="delivery-info">
                                        <h3>Express Delivery</h3>
                                        <p>Delivery tomorrow</p>
                                    </div>
                                    <div class="delivery-price">$15.00</div>
                                </div>
                            </label>
                        </div>
                        <div class="delivery-option" data-method="sameday">
                            <input type="radio" name="delivery" id="sameday" value="sameday">
                            <label for="sameday">
                                <div class="delivery-header">
                                    <div class="delivery-icon"><i class="fas fa-bolt"></i></div>
                                    <div class="delivery-info">
                                        <h3>Same-Day Delivery</h3>
                                        <p>Delivery today (before 8 PM)</p>
                                    </div>
                                    <div class="delivery-price">$25.00</div>
                                </div>
                            </label>
                        </div>
                        <div class="delivery-option" data-method="pickup">
                            <input type="radio" name="delivery" id="pickup" value="pickup">
                            <label for="pickup">
                                <div class="delivery-header">
                                    <div class="delivery-icon"><i class="fas fa-store"></i></div>
                                    <div class="delivery-info">
                                        <h3>Pickup Station</h3>
                                        <p>Collect from nearest pickup point</p>
                                    </div>
                                    <div class="delivery-price">Free</div>
                                </div>
                            </label>
                        </div>
                    </div>
                    <div class="button-group">
                        <button class="btn btn-secondary" onclick="prevStep()"><i class="fas fa-arrow-left"></i> Back</button>
                        <button class="btn btn-primary" onclick="nextStep()">Continue to Payment <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>

                <!-- Step 4: Payment Method -->
                <div class="form-section" id="step4">
                    <div class="section-header">
                        <h2><i class="fas fa-credit-card"></i> Payment Method</h2>
                    </div>
                    <div class="payment-methods">
                        <div class="payment-option active" data-payment="card">
                            <input type="radio" name="payment" id="cardPayment" value="card" checked>
                            <label for="cardPayment">
                                <i class="fas fa-credit-card"></i> Credit / Debit Card
                            </label>
                        </div>
                        <div class="payment-option" data-payment="mobile">
                            <input type="radio" name="payment" id="mobilePayment" value="mobile">
                            <label for="mobilePayment">
                                <i class="fas fa-mobile-alt"></i> Mobile Money (MTN/Airtel)
                            </label>
                        </div>
                        <div class="payment-option" data-payment="paypal">
                            <input type="radio" name="payment" id="paypalPayment" value="paypal">
                            <label for="paypalPayment">
                                <i class="fab fa-paypal"></i> PayPal
                            </label>
                        </div>
                        <div class="payment-option" data-payment="cod">
                            <input type="radio" name="payment" id="codPayment" value="cod">
                            <label for="codPayment">
                                <i class="fas fa-money-bill-wave"></i> Cash on Delivery
                            </label>
                        </div>
                    </div>

                    <!-- Card Payment Form -->
                    <div class="payment-form" id="cardForm">
                        <div class="form-group">
                            <label for="cardNumber">Card Number *</label>
                            <input type="text" id="cardNumber" class="form-control" placeholder="1234 5678 9012 3456" maxlength="19">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="cardExpiry">Expiry Date *</label>
                                <input type="text" id="cardExpiry" class="form-control" placeholder="MM/YY" maxlength="5">
                            </div>
                            <div class="form-group">
                                <label for="cardCVV">CVV *</label>
                                <input type="text" id="cardCVV" class="form-control" placeholder="123" maxlength="3">
                            </div>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="saveCard">
                            <label for="saveCard">Save this card for future purchases (Secure)</label>
                        </div>
                    </div>

                    <!-- Mobile Money Form -->
                    <div class="payment-form" id="mobileForm" style="display: none;">
                        <div class="form-group">
                            <label for="mobileNumber">Mobile Number *</label>
                            <input type="tel" id="mobileNumber" class="form-control" placeholder="+250 7XX XXX XXX">
                        </div>
                        <div class="info-box">
                            <i class="fas fa-info-circle"></i>
                            <p>You will receive a prompt on your phone to complete the payment.</p>
                        </div>
                    </div>

                    <!-- Billing Address -->
                    <div class="billing-section">
                        <h3>Billing Address</h3>
                        <div class="checkbox-group">
                            <input type="checkbox" id="sameAsShipping" checked>
                            <label for="sameAsShipping">Same as shipping address</label>
                        </div>
                    </div>

                    <div class="button-group">
                        <button class="btn btn-secondary" onclick="prevStep()"><i class="fas fa-arrow-left"></i> Back</button>
                        <button class="btn btn-primary" onclick="nextStep()">Review Order <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>

                <!-- Step 5: Review Order -->
                <div class="form-section" id="step5">
                    <div class="section-header">
                        <h2><i class="fas fa-check-circle"></i> Review Your Order</h2>
                    </div>
                    
                    <div class="review-section">
                        <h3>Contact Information</h3>
                        <div class="review-item">
                            <span class="review-label">Name:</span>
                            <span class="review-value" id="reviewName">-</span>
                        </div>
                        <div class="review-item">
                            <span class="review-label">Email:</span>
                            <span class="review-value" id="reviewEmail">-</span>
                        </div>
                        <div class="review-item">
                            <span class="review-label">Phone:</span>
                            <span class="review-value" id="reviewPhone">-</span>
                        </div>
                    </div>

                    <div class="review-section">
                        <h3>Shipping Address</h3>
                        <div class="review-value" id="reviewAddress">-</div>
                    </div>

                    <div class="review-section">
                        <h3>Delivery Method</h3>
                        <div class="review-value" id="reviewDelivery">-</div>
                    </div>

                    <div class="review-section">
                        <h3>Payment Method</h3>
                        <div class="review-value" id="reviewPayment">-</div>
                    </div>

                    <div class="form-group">
                        <label for="orderNotes">Order Notes (Optional)</label>
                        <textarea id="orderNotes" class="form-control" rows="3" placeholder="Any special instructions for your order..."></textarea>
                    </div>

                    <div class="checkbox-group">
                        <input type="checkbox" id="giftWrap">
                        <label for="giftWrap"><i class="fas fa-gift"></i> Add gift wrapping ($5.00)</label>
                    </div>

                    <div class="button-group">
                        <button class="btn btn-secondary" onclick="prevStep()"><i class="fas fa-arrow-left"></i> Back</button>
                        <button class="btn btn-success btn-large" onclick="placeOrder()">
                            <i class="fas fa-lock"></i> Place Order & Pay
                        </button>
                    </div>

                    <!-- Trust Badges -->
                    <div class="trust-badges">
                        <div class="badge"><i class="fas fa-shield-alt"></i> Secure Payment</div>
                        <div class="badge"><i class="fas fa-lock"></i> SSL Encrypted</div>
                        <div class="badge"><i class="fas fa-undo"></i> 30-Day Returns</div>
                        <div class="badge"><i class="fas fa-check-circle"></i> Verified Seller</div>
                    </div>
                </div>
            </div>

            <!-- Right Column - Order Summary -->
            <div class="order-summary">
                <div class="summary-sticky">
                    <div class="summary-header" onclick="toggleSummary()">
                        <h2>Order Summary</h2>
                        <i class="fas fa-chevron-up" id="summaryToggle"></i>
                    </div>
                    <div class="summary-content" id="summaryContent">
                        <!-- Products -->
                        <div class="summary-products" id="summaryProducts">
                            <!-- Cart items will be loaded here dynamically -->
                        </div>

                        <!-- Coupon Section -->
                        <div class="coupon-section">
                            <div class="coupon-header">
                                <i class="fas fa-tag"></i>
                                <input type="text" id="couponInput" placeholder="Enter coupon code" class="coupon-input">
                            </div>
                            <button class="btn btn-outline" onclick="applyCoupon()">Apply</button>
                        </div>
                        <div class="coupon-applied" id="couponApplied" style="display: none;">
                            <i class="fas fa-check-circle"></i>
                            <span id="couponText">Coupon applied!</span>
                            <button class="remove-coupon" onclick="removeCoupon()"><i class="fas fa-times"></i></button>
                        </div>

                        <!-- Price Breakdown -->
                        <div class="price-breakdown">
                            <div class="price-row">
                                <span>Subtotal</span>
                                <span id="subtotal">$0.00</span>
                            </div>
                            <div class="price-row">
                                <span>Shipping</span>
                                <span id="shipping">$5.00</span>
                            </div>
                            <div class="price-row discount" id="discountRow" style="display: none;">
                                <span>Discount</span>
                                <span id="discount">-$0.00</span>
                            </div>
                            <div class="price-row" id="giftWrapRow" style="display: none;">
                                <span>Gift Wrap</span>
                                <span id="giftWrapPrice">$5.00</span>
                            </div>
                            <div class="price-row">
                                <span>Tax (16%)</span>
                                <span id="tax">$0.00</span>
                            </div>
                            <div class="price-row savings" id="savingsRow" style="display: none;">
                                <span><i class="fas fa-tag"></i> You saved</span>
                                <span id="savings">$0.00</span>
                            </div>
                            <div class="price-total">
                                <span>Total</span>
                                <span id="total">$0.00</span>
                            </div>
                        </div>

                        <!-- Action Links -->
                        <div class="summary-actions">
                            <a href="index.html" class="action-link"><i class="fas fa-edit"></i> Edit Cart</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal" id="successModal">
        <div class="modal-content">
            <div class="modal-icon success">
                <i class="fas fa-check-circle"></i>
            </div>
            <h2>Order Placed Successfully!</h2>
            <p>Thank you for your purchase. Your order has been confirmed.</p>
            <div class="order-info">
                <div class="info-item">
                    <strong>Order Number:</strong>
                    <span id="orderNumber">#ORD-123456</span>
                </div>
                <div class="info-item">
                    <strong>Estimated Delivery:</strong>
                    <span id="deliveryDate">Dec 5, 2024</span>
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn btn-primary" onclick="downloadInvoice()">
                    <i class="fas fa-download"></i> Download Invoice
                </button>
                <button class="btn btn-outline" onclick="trackOrder()">
                    <i class="fas fa-map-marker-alt"></i> Track Order
                </button>
            </div>
            <button class="btn btn-text" onclick="closeModal()">Continue Shopping</button>
        </div>
    </div>

    <!-- Empty Cart Modal -->
    <div class="modal" id="emptyCartModal">
        <div class="modal-content">
            <div class="modal-icon warning">
                <i class="fas fa-shopping-cart"></i>
            </div>
            <h2>Your Cart is Empty</h2>
            <p>Add some products to your cart before checking out.</p>
            <div class="modal-actions">
                <a href="index.html" class="btn btn-primary">
                    <i class="fas fa-shopping-bag"></i> Continue Shopping
                </a>
            </div>
        </div>
    </div>

    <script src="checkout.js"></script>
</body>
</html>